!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){var i,n=(i=function(t){var e,i=null!==(e=JSON.parse(localStorage.getItem(t)))&&void 0!==e?e:{},n=function(){localStorage.setItem(t,JSON.stringify(i))};return{get:function(t){return i[t]},set:function(t,e){i[t]=e,n()},remove:function(t){delete i[t],n()}}},{addWhistList:function(){var t,e=document.querySelector(".QA_btn"),s=null!==(t=e.dataset.id)&&void 0!==t?t:null,o=""==e.dataset.customer?"anonymous":e.dataset.customer;e.classList.add("active"),e.innerHTML='<i class="fa fa-spinner fa-spin"></i>';var r={shop:Shopify.shop,id:s,customer:o};fetch("http://127.0.0.1:8000/add-whishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(t){return t.json()})).then((function(t){var s;new Noty({progressBar:!0,text:"Added to whishlist!!",type:"success",timeout:1e3}).show(),e.innerHTML="Remove to whishlist";var o=i("WhishListStorage"),r=null!==(s=o.get("products"))&&void 0!==s?s:[];r.push(t.product),console.log(r),n.RerenderWL(r),o.set("products",r)})).catch((function(t){console.error("Error:",t)}))},removeWhistList:function(){var t,e=document.querySelector(".QA_btn"),s=null!==(t=e.dataset.id)&&void 0!==t?t:null,o=""==e.dataset.customer?"anonymous":e.dataset.customer;e.classList.remove("active"),e.innerHTML='<i class="fa fa-spinner fa-spin"></i>';var r={shop:Shopify.shop,id:s,customer:o};fetch("http://127.0.0.1:8000/remove-whishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(t){return t.json()})).then((function(t){new Noty({progressBar:!0,text:"Removed to whishlist!!",type:"warning",timeout:1e3}).show(),e.innerHTML="Add to whishlist";var s=i("WhishListStorage"),o=s.get("products").filter((function(t){return t.id!==parseInt(e.dataset.id)}));n.RerenderWL(o),s.set("products",o)})).catch((function(t){console.error("Error:",t)}))},checkWhistList:function(){var t,e=document.querySelector(".QA_btn"),n=null!==(t=i("WhishListStorage").get("products"))&&void 0!==t?t:[];null!=e&&n.filter((function(t){return t.id==parseInt(e.dataset.id)})).length&&(e.classList.add("active"),e.innerHTML="Remove to whishlist")},ModalWhistlist:function(){var t,e=(null!==(t=i("WhishListStorage").get("products"))&&void 0!==t?t:[]).map((function(t,e){return'<div class="QA-wl-product"><a href="/products/'.concat(t.handle,'"><div class="QA-wl-product__img"><img src="').concat(t.image.src,'"/></div><div class="QA-wl-product__title">').concat(t.title,"</div></a></div>")}));console.log(e.join(""))},createBtnListWhishList:function(){var t,e=null!==(t=i("WhishListStorage").get("products"))&&void 0!==t?t:[],n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),r=e.map((function(t,e){return'<div class="QA-wl-product"><a href="/products/'.concat(t.handle,'"><div class="QA-wl-product__img"><img src="').concat(t.image.src,'"/></div><div class="QA-wl-product__title">').concat(t.title,"</div></a></div>")}));s.classList.add("QA_WhistList_modal"),o.classList.add("QA_WhistList_overlay"),n.classList.add("QA_WhistList_btn"),s.innerHTML='<div class="header"><span class="QA_text">My WhishList</span><span class="QA_close" style="cursor:pointer"><i class="fa fa-times" aria-hidden="true"></i></span></div><div class="main">'+r.join("")+'</div><div class="footer"></div>',n.innerHTML='<div><span class="icon"><i class="fa fa-heart" style="color:#fff" aria-hidden="true"></i></span><span class="number">'+e.length+"</span></div>",document.body.appendChild(n),document.body.appendChild(s),document.body.appendChild(o)},handleToggleWhishList:function(){var t=document.querySelector(".QA_WhistList_btn"),e=document.querySelector("span.QA_close"),i=document.querySelector(".QA_WhistList_modal"),n=document.querySelector(".QA_WhistList_overlay");e.addEventListener("click",(function(){i.classList.remove("active"),n.classList.remove("active")})),t.addEventListener("click",(function(){i.classList.add("active"),n.classList.add("active")}))},RerenderWL:function(t){var e=document.querySelector(".QA_WhistList_btn span.number"),i=document.querySelector(".QA_WhistList_modal .main"),n=t.map((function(t,e){return'<div class="QA-wl-product"><a href="/products/'.concat(t.handle,'"><div class="QA-wl-product__img"><img src="').concat(t.image.src,'"/></div><div class="QA-wl-product__title">').concat(t.title,"</div></a></div>")}));e.innerHTML=t.length,i.innerHTML=n.join("")},initApp:function(){console.log("init.....");var t=document.querySelector(".QA_btn");n.createBtnListWhishList(),n.checkWhistList(),n.ModalWhistlist(),n.handleToggleWhishList(),t&&t.addEventListener("click",(function(){this.classList.contains("active")?n.removeWhistList():n.addWhistList()}))}});n.initApp()}]);