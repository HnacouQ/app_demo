!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){var i,n,s,o,r,c=(n=document.querySelector(".QA_btn"),s=n.dataset.id,o=null!==(i=n.dataset.id)&&void 0!==i?i:"anonymous",r=function(t){var e,i=null!==(e=JSON.parse(localStorage.getItem(t)))&&void 0!==e?e:{},n=function(){localStorage.setItem(t,JSON.stringify(i))};return{get:function(t){return i[t]},set:function(t,e){i[t]=e,n()},remove:function(t){delete i[t],n()}}},{addWhistList:function(){n.classList.add("active"),n.innerHTML='<i class="fa fa-spinner fa-spin"></i>';var t={shop:Shopify.shop,id:s,customer:o};fetch("http://127.0.0.1:8000/add-whishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){var e;new Noty({progressBar:!0,text:"Added to whishlist!!",type:"success",timeout:1e3}).show(),n.innerHTML="Remove to whishlist";var i=r("WhishListStorage"),s=null!==(e=i.get("products"))&&void 0!==e?e:[];s.push(t.product),console.log(s),c.RerenderWL(s),i.set("products",s)})).catch((function(t){console.error("Error:",t)}))},removeWhistList:function(){var t=document.querySelector(".QA_btn");t.classList.remove("active"),t.innerHTML='<i class="fa fa-spinner fa-spin"></i>';var e={shop:Shopify.shop,id:s,customer:o};fetch("http://127.0.0.1:8000/remove-whishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){new Noty({progressBar:!0,text:"Removed to whishlist!!",type:"warning",timeout:1e3}).show(),t.innerHTML="Add to whishlist";var i=r("WhishListStorage"),n=i.get("products").filter((function(e){return e.id!==parseInt(t.dataset.id)}));c.RerenderWL(n),i.set("products",n)})).catch((function(t){console.error("Error:",t)}))},checkWhistList:function(){var t;(null!==(t=r("WhishListStorage").get("products"))&&void 0!==t?t:[]).filter((function(t){return t.id==parseInt(n.dataset.id)})).length&&(n.classList.add("active"),n.innerHTML="Remove to whishlist")},ModalWhistlist:function(){var t,e=(null!==(t=r("WhishListStorage").get("products"))&&void 0!==t?t:[]).map((function(t,e){return'<div class="QA-wl-product"><a href="/products/'.concat(t.handle,'"><div class="QA-wl-product__img"><img src="').concat(t.image.src,'"/></div><div class="QA-wl-product__title">').concat(t.title,"</div></a></div>")}));console.log(e.join(""))},createBtnListWhishList:function(){var t,e=null!==(t=r("WhishListStorage").get("products"))&&void 0!==t?t:[],i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=e.map((function(t,e){return'<div class="QA-wl-product"><a href="/products/'.concat(t.handle,'"><div class="QA-wl-product__img"><img src="').concat(t.image.src,'"/></div><div class="QA-wl-product__title">').concat(t.title,"</div></a></div>")}));n.classList.add("QA_WhistList_modal"),s.classList.add("QA_WhistList_overlay"),i.classList.add("QA_WhistList_btn"),n.innerHTML='<div class="header"><span class="QA_text">My WhishList</span><span class="QA_close" style="cursor:pointer"><i class="fa fa-times" aria-hidden="true"></i></span></div><div class="main">'+o.join("")+'</div><div class="footer"></div>',i.innerHTML='<div><span class="icon"><i class="fa fa-heart" style="color:#fff" aria-hidden="true"></i></span><span class="number">'+e.length+"</span></div>",document.body.appendChild(i),document.body.appendChild(n),document.body.appendChild(s)},handleToggleWhishList:function(){var t=document.querySelector(".QA_WhistList_btn"),e=document.querySelector("span.QA_close"),i=document.querySelector(".QA_WhistList_modal"),n=document.querySelector(".QA_WhistList_overlay");e.addEventListener("click",(function(){i.classList.remove("active"),n.classList.remove("active")})),t.addEventListener("click",(function(){i.classList.add("active"),n.classList.add("active")}))},RerenderWL:function(t){var e=document.querySelector(".QA_WhistList_btn span.number"),i=document.querySelector(".QA_WhistList_modal .main"),n=t.map((function(t,e){return'<div class="QA-wl-product"><a href="/products/'.concat(t.handle,'"><div class="QA-wl-product__img"><img src="').concat(t.image.src,'"/></div><div class="QA-wl-product__title">').concat(t.title,"</div></a></div>")}));e.innerHTML=t.length,i.innerHTML=n.join("")},initApp:function(){console.log("init....."),c.createBtnListWhishList(),c.checkWhistList(),c.ModalWhistlist(),c.handleToggleWhishList(),n&&n.addEventListener("click",(function(){this.classList.contains("active")?c.removeWhistList():c.addWhistList()}))}});c.initApp()}]);